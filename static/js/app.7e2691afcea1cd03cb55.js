webpackJsonp([1],{"5W1q":function(e,t){},"6PjI":function(e,t){},EEbw:function(e,t){e.exports={version:"0.20.6"}},Eq9f:function(e,t){},F6qc:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("vGjf")},null,null).exports,i=n("/ocq"),r={1:"Main Net",2:"Deprecated Morden test network",3:"Ropsten test network",4:"Rinkeby test network",42:"Kovan test network",4447:"Truffle Develop Network",5777:"Ganache Blockchain"},c=n("NYxO"),u={name:"hello-metamask",computed:Object(c.b)({isInjected:function(e){return e.web3.isInjected},network:function(e){return r[e.web3.networkId]},coinbase:function(e){return e.web3.coinbase},balance:function(e){return e.web3.balance},ethBalance:function(e){if(null!==e.web3.web3Instance)return e.web3.web3Instance().fromWei(e.web3.balance,"ether")}})},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"metamask-info"},[e.isInjected?n("p",{attrs:{id:"has-metamask"}},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),e._v(" Metamask installed")]):n("p",{attrs:{id:"no-metamask"}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),e._v(" Metamask not found")]),e._v(" "),n("p",[e._v("Network: "+e._s(e.network))]),e._v(" "),n("p",[e._v("Account: "+e._s(e.coinbase))]),e._v(" "),n("p",[e._v("Balance: "+e._s(e.balance)+" Wei // "+e._s(e.ethBalance)+" Eth")])])},staticRenderFns:[]};var p={name:"casino",data:function(){return{initialAmount:0,name:"",tokenSymbo:"",amount:0,owneraddress:"",pending:!1,sucess:!1,msg:""}},methods:{clickToken:function(){var e=this;0!=this.initialAmount&&""!=this.name&&""!=this.tokenSymbo?(this.pending=!0,this.msg="",this.$store.state.contractInstance().makeCoin(this.initialAmount,this.name,0,this.tokenSymbo,{from:this.$store.state.web3.coinbase},function(t,n){t?(e.pending=!1,e.msg="交易失败"):(e.amount=e.initialAmount,e.pending=!1,e.sucess=!0)})):this.msg="请完整填写代币相关信息"},transfer:function(){""!=this.owneraddress?this.$store.state.contractInstance().transfer(this.owneraddress,this.amount,{from:this.$store.state.web3.coinbase},function(e,t){}):this.msg="请填写钱包地址"},balanceOf:function(){this.$store.state.contractInstance().balanceOf(this.owneraddress,{from:this.$store.state.web3.coinbase},function(e,t){e?console.log(e):console.log(t)})}},mounted:function(){console.log("dispatching getContractInstance"),this.$store.dispatch("getContractInstance")}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"casino container"},[n("div",{staticClass:"row"},[n("h1",[e._v("欢迎来到token制造中心")]),e._v(" "),n("br"),e._v(" "),n("h3",[e._v("填写token相关信息")]),e._v(" "),n("br"),e._v(" "),n("form",{staticClass:"form-horizontal",attrs:{role:"form"}},[n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"form-group col-sm-4 height margin"},[n("label",{staticClass:"col-sm-4 control-label",attrs:{for:"firstname"}},[e._v("代币数量")]),e._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.initialAmount,expression:"initialAmount"}],staticClass:"form-control",attrs:{type:"text",placeholder:"例如: 21000000",required:"required"},domProps:{value:e.initialAmount},on:{input:function(t){t.target.composing||(e.initialAmount=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"form-group col-sm-4 height"},[n("label",{staticClass:"col-sm-4 control-label",attrs:{for:"firstname"}},[e._v("代币名称")]),e._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:'例如: "SiaCoin"',required:"required"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"form-group col-sm-4 height"},[n("label",{staticClass:"col-sm-4 control-label",attrs:{for:"firstname"}},[e._v("代币符号")]),e._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenSymbo,expression:"tokenSymbo"}],staticClass:"form-control",attrs:{type:"text",placeholder:'例如: "SC"',required:"required"},domProps:{value:e.tokenSymbo},on:{input:function(t){t.target.composing||(e.tokenSymbo=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.clickToken}},[e._v("生成代币")])]),e._v(" "),e.pending?n("img",{attrs:{id:"loader",src:"https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif"}}):e._e(),e._v(" "),n("div",{staticClass:"col-sm-12 height margin"},[n("h4",[e._v(e._s(e.msg))])])]),e._v(" "),e.sucess?n("form",{staticClass:"form-horizontal",attrs:{role:"form"}},[n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"form-group col-sm-4 height margin"},[n("label",{staticClass:"col-sm-4 control-label",attrs:{for:"firstname"}},[e._v("代币数量")]),e._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"form-control",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"}),e._v(" "),n("div",{staticClass:"form-group col-sm-4 height margin"},[n("label",{staticClass:"col-sm-4 control-label",attrs:{for:"firstname"}},[e._v("钱包地址")]),e._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.owneraddress,expression:"owneraddress"}],staticClass:"form-control",attrs:{type:"text",placeholder:"例如: 0x14acXXXXXX"},domProps:{value:e.owneraddress},on:{input:function(t){t.target.composing||(e.owneraddress=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-sm-4 height margin"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.transfer}},[e._v("发送代币")])])]):e._e()])])},staticRenderFns:[]};var d={name:"casino-dapp",beforeCreate:function(){console.log("registerWeb3 Action dispatched from casino-dapp.vue"),this.$store.dispatch("registerWeb3")},components:{"hello-metamask":n("VU/8")(u,m,!1,function(e){n("F6qc")},"data-v-a4c3aeae",null).exports,"casino-component":n("VU/8")(p,l,!1,function(e){n("6PjI")},"data-v-7d65fa3f",null).exports}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("hello-metamask"),this._v(" "),t("casino-component")],1)},staticRenderFns:[]};var b=n("VU/8")(d,y,!1,function(e){n("Eq9f")},"data-v-0d030d5a",null).exports;a.a.use(i.a);var f=new i.a({routes:[{path:"/",name:"casino-dapp",component:b}]}),v={web3:{isInjected:!1,web3Instance:null,networkId:null,coinbase:null,balance:null,error:null},contractInstance:null},g=n("woOf"),w=n.n(g),_=n("//Fk"),h=n.n(_),C=n("8k0n"),x=n.n(C),k=new h.a(function(e,t){var n=window.web3;if(void 0!==n){var a=new x.a(n.currentProvider);e({injectedWeb3:a.isConnected(),web3:function(){return a}})}else t(new Error("Unable to connect to Metamask"))}).then(function(e){return new h.a(function(t,n){console.log(e),console.log(e.web3()),console.log(e.web3().version),e.web3().version.getNetwork(function(a,s){a?n(new Error("Unable to retrieve network ID")):(e=w()({},e,{networkId:s}),console.log(e),t(e))})})}).then(function(e){return new h.a(function(t,n){e.web3().eth.getCoinbase(function(a,s){a?n(new Error("Unable to retrieve coinbase")):(e=w()({},e,{coinbase:s}),console.log(e),t(e))})})}).then(function(e){return new h.a(function(t,n){e.web3().eth.getBalance(e.coinbase,function(a,s){a?n(new Error("Unable to retrieve balance for address: "+e.coinbase)):(e=w()({},e,{balance:s}),console.log(e),t(e))})})}),I=function(e){var t=window.web3;t=new x.a(t.currentProvider),setInterval(function(){if(t&&M.state.web3.web3Instance)if(t.eth.coinbase!==M.state.web3.coinbase){var e=t.eth.coinbase;t.eth.getBalance(t.eth.coinbase,function(t,n){t?console.log(t):M.dispatch("pollWeb3",{coinbase:e,balance:parseInt(n,10)})})}else t.eth.getBalance(M.state.web3.coinbase,function(e,t){e?console.log(e):parseInt(t,10)!==M.state.web3.balance&&M.dispatch("pollWeb3",{coinbase:M.state.web3.coinbase,balance:t})})},500)},W=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],name:"makeCoin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],A=new h.a(function(e,t){e(new x.a(window.web3.currentProvider).eth.contract(W).at("0x11467f2b2de65e505cd0b9b318d665466fc7d83f"))});a.a.use(c.a);var M=new c.a.Store({strict:!0,state:v,mutations:{registerWeb3Instance:function(e,t){console.log("registerWeb3instance Mutation being executed",t);var n=t,a=e.web3;a.coinbase=n.coinbase,a.networkId=n.networkId,a.balance=parseInt(n.balance,10),a.isInjected=n.injectedWeb3,a.web3Instance=n.web3,e.web3=a,I()},pollWeb3Instance:function(e,t){console.log("pollWeb3Instance mutation being executed",t),e.web3.coinbase=t.coinbase,e.web3.balance=parseInt(t.balance,10)},registerContractInstance:function(e,t){console.log("Casino contract instance: ",t),e.contractInstance=function(){return t},console.log("contractInstance"+e.contractInstance)}},actions:{registerWeb3:function(e){var t=e.commit;console.log("registerWeb3 Action being executed"),k.then(function(e){console.log("committing result to registerWeb3Instance mutation"),t("registerWeb3Instance",e),console.log("result:"),console.log(e)}).catch(function(e){console.log("error in action registerWeb3",e)})},pollWeb3:function(e,t){var n=e.commit;console.log("pollWeb3 action being executed"),n("pollWeb3Instance",t)},getContractInstance:function(e){var t=e.commit;A.then(function(e){console.log("获取合约接口"+e),t("registerContractInstance",e)}).catch(function(e){return console.log(e)})}}});n("5W1q"),n("qb6w");a.a.config.productionTip=!1,new a.a({el:"#app",router:f,store:M,components:{App:o},template:"<App/>"})},"R/pS":function(e,t){e.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},UIsv:function(e,t){e.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},oPsS:function(e,t){e.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},qb6w:function(e,t){},vGjf:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7e2691afcea1cd03cb55.js.map